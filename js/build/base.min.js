/*! avago-oven-loader-js 2014-02-22*/
var NewElement,Priorities,User,el,pr,r,req,srvr,us;NProgress.configure({showSpinner:!1}),Priorities=function(){function a(){}return a}(),User=function(){function a(){this.srvr=new Cenny({url:"./server/cenny.php"})}return a.prototype.login=function(a,b){return this.user=a,this.srvr.user.signin({user:[this.user,b]},function(a){return function(b){return b&&r.set("logged",!0),r.set("user",a.user)}}(this))},a.prototype.logout=function(){return this.srvr.user.signout()},a.prototype.setPassword=function(a){return this.srvr.user.password(a)},a.prototype.info=function(){return this.srvr.user.info()},a.prototype.create=function(a,b){return this.srvr.user.create({user:[a,b]},function(){return function(a){return console.log(a)}}(this))},a}(),NewElement=function(){function a(){this.patrn=/^(\d+)-(\w{0,2}\d+) (\d+) (\d+)/,this.el=$("#output","#newCode")}return a.prototype.test=function(a){var b;return b=this.patrn.exec(a),this.proceed=!1,null!=b?(this.match=b[0],this.producto=b[1],this.codigo=b[2],this.cantidad=b[3],this.prioridad=b[4],null!=this.producto&&this.codigo&&this.cantidad&&this.prioridad&&(this.proceed=!0),r.set("code",{match:this.match,producto:this.producto,codigo:this.codigo,cantidad:this.cantidad,prioridad:this.prioridad,proceed:this.proceed})):r.set("code",{})},a}(),srvr=new Cenny({url:"./server/cenny.php"}),us=new User,r=new Ractive({el:"#output",template:"#template",data:{priorities:""}}),r.on("validateUser",function(){return us.login(r.data.user.user,r.data.user.password),r.set("user.password","")}),el=new NewElement,r.observe("newCode",function(a){return el.test(a)}),pr=new Priorities,req=$.getJSON("php/getPriorities.php"),req.done(function(a){return r.set("priorities",a)});